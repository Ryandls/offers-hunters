(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5d6398ea"],{2976:function(t,e,o){},3008:function(t,e,o){"use strict";o("2976")},"4cab":function(t,e,o){"use strict";o("79a5")},"5f66":function(t,e,o){"use strict";o.r(e);var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("b-container",[o("div",{staticClass:"d-flex align-items-center"},[o("b-container",{staticClass:"text-center mt-4"},[o("h1",[o("strong",{staticClass:"color-secondary"},[t._v("Lista de promoções para validar")])])])],1),o("div",{staticClass:"containerCard mt-5"},t._l(t.date.filter((function(t){return 0==t.valid})),(function(e){return o("product-card",{key:e.id,attrs:{productId:e.id,description:e.description,product:e.product,price:e.value,validity:e.expiration_date,imgsrc:e.image,link:e.promotion_link,hostName:e.user.name,userAdmin:t.admin}})})),1)])},n=[],a=(o("d3b7"),o("4de4"),o("a18c")),r=o("db04"),s=o("a6f4"),c=o("e915"),d={components:{ProductCard:c["a"]},data:function(){return{admin:this.$store.admin,date:[]}},mounted:function(){var t=this;Object(s["b"])((function(){return t.$store.admin}),(function(){t.admin=t.$store.admin})),this.$store.isAuthorization||a["a"].push("/"),this.loadInfoPromotion()},methods:{loadInfoPromotion:function(){var t=this;r["a"].get("offer/get_by_query?label=").then((function(e){return t.date=e.data.offers.filter((function(t){return!1===t.valid}))})).catch((function(t){return t})).finally((function(){return setTimeout((function(){t.loadingPage=!1}),1e3)}))}}},l=d,u=(o("4cab"),o("2877")),m=Object(u["a"])(l,i,n,!1,null,"4ad06d5e",null);e["default"]=m.exports},"79a5":function(t,e,o){},e915:function(t,e,o){"use strict";var i=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"card d-flex justify-content-center"},[o("div",[o("img",{staticClass:"w-100",attrs:{src:t.imgsrc,alt:t.description},on:{click:function(e){return t.goToDetailPromotion(t.productId)}}}),o("div",{staticClass:"card__description"},[o("b-col",{staticClass:"mt-3"},[o("span",{staticClass:"defaultFontSize"},[t._v(t._s(t.description))])]),o("b-col",{staticClass:"mt-1"},[o("span",{staticClass:"text-danger font-weight-bold "},[t._v(" "+t._s(t.currencyFormat(t.price))+" ")])]),o("b-col",[o("span",{staticClass:"text-danger font-weight-bold defaultFontSize"},[t._v("Válido até "+t._s(t.validity))])]),o("b-col",[o("span",{staticClass:"lowFontSize"},[t._v("Anunciado por "+t._s(t.hostName))])]),o("b-col",[o("a",{staticClass:"text-center",attrs:{href:t.link,target:"_blank"}},[t._v("Ir para o site")])])],1)]),t.userAdmin?o("div",{staticClass:"d-flex"},[o("b-button",{staticClass:"w-50",attrs:{variant:"success"},on:{click:function(e){return t.showModal("modal-validation-confirm-"+t.productId)}}},[t._v("Validar")]),o("b-button",{staticClass:"w-50",attrs:{variant:"danger"},on:{click:function(e){return t.showModal("modal-validation-delete-"+t.productId)}}},[t._v("Deletar")])],1):t._e(),o("b-modal",{attrs:{id:"modal-validation-confirm-"+t.productId,"ok-title":"Validar","ok-variant":"success",centered:""},on:{ok:function(e){return t.validationPromotion(t.productId)}}},[o("form",{staticClass:"text-center"},[o("span",[t._v("Você tem certeza que quer validar essa promoção?")])])]),o("b-modal",{attrs:{id:"modal-validation-delete-"+t.productId,"ok-title":"Deletar","ok-variant":"danger",centered:""},on:{ok:function(e){return t.deletePromotion(t.productId)}}},[o("form",{staticClass:"text-center"},[o("span",[t._v("Você tem certeza que quer deletar essa promoção?")])])])],1)},n=[],a=(o("d3b7"),o("db04")),r={bind:function(t,e){var o={event:"mousedown",transition:600};s(Object.keys(e.modifiers),o),t.addEventListener(o.event,(function(o){a(o,t,e.value)}));var i=e.value||r.color||"rgba(0, 0, 0, 0.35)",n=r.zIndex||"9999";function a(t,e){var a=e,r=parseInt(getComputedStyle(a).borderWidth.replace("px","")),s=a.getBoundingClientRect(),c=s.left,d=s.top,l=a.offsetWidth,u=a.offsetHeight,m=t.clientX-c,p=t.clientY-d,f=Math.max(m,l-m),v=Math.max(p,u-p),h=window.getComputedStyle(a),y=Math.sqrt(f*f+v*v),b=r>0?r:0,g=document.createElement("div"),x=document.createElement("div");x.className="ripple-container",g.className="ripple",g.style.marginTop="0px",g.style.marginLeft="0px",g.style.width="1px",g.style.height="1px",g.style.transition="all "+o.transition+"ms cubic-bezier(0.4, 0, 0.2, 1)",g.style.borderRadius="50%",g.style.pointerEvents="none",g.style.position="relative",g.style.zIndex=n,g.style.backgroundColor=i,x.style.position="absolute",x.style.left=0-b+"px",x.style.top=0-b+"px",x.style.height="0",x.style.width="0",x.style.pointerEvents="none",x.style.overflow="hidden";var C=a.style.position.length>0?a.style.position:getComputedStyle(a).position;function _(){setTimeout((function(){g.style.backgroundColor="rgba(0, 0, 0, 0)"}),250),setTimeout((function(){x.parentNode.removeChild(x)}),850),e.removeEventListener("mouseup",_,!1),setTimeout((function(){for(var t=!0,e=0;e<a.childNodes.length;e++)"ripple-container"===a.childNodes[e].className&&(t=!1);t&&(a.style.position="static"!==C?C:"")}),o.transition+250)}"relative"!==C&&(a.style.position="relative"),x.appendChild(g),a.appendChild(x),g.style.marginLeft=m+"px",g.style.marginTop=p+"px",x.style.width=l+"px",x.style.height=u+"px",x.style.borderTopLeftRadius=h.borderTopLeftRadius,x.style.borderTopRightRadius=h.borderTopRightRadius,x.style.borderBottomLeftRadius=h.borderBottomLeftRadius,x.style.borderBottomRightRadius=h.borderBottomRightRadius,x.style.direction="ltr",setTimeout((function(){g.style.width=2*y+"px",g.style.height=2*y+"px",g.style.marginLeft=m-y+"px",g.style.marginTop=p-y+"px"}),0),"mousedown"===t.type?e.addEventListener("mouseup",_,!1):_()}}};function s(t,e){t.forEach((function(t){isNaN(Number(t))?e.event=t:e.transition=t}))}var c=r,d=o("a18c"),l=o("e6c7"),u={props:{product:String,description:String,price:String,validity:String,imgsrc:String,hostName:String,link:String,productId:String,userAdmin:Boolean},directives:{"b-modal":l["a"],Ripple:c},methods:{currencyFormat:function(t){return new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(t)},deletePromotion:function(t){var e=this;a["a"].delete("/offer/delete?id=".concat(t)).then((function(){e.$bvToast.toast("Promoção excluida com sucesso!!",{title:"Sucesso",autoHideDelay:3e3,variant:"success",solid:!0})})).catch((function(t){t&&e.$bvToast.toast("Ocorreu um erro ao excluir a promoção, por favor, tente mais tarde!",{title:"Error",autoHideDelay:2e3,variant:"danger",solid:!0})})).finally(setTimeout((function(){document.location.reload(!0)}),2e3))},validationPromotion:function(t){var e=this;a["a"].put("/offer/verify_offer?id=".concat(t)).then((function(){e.$bvToast.toast("Promoção validada com sucesso!!",{title:"Sucesso",autoHideDelay:3e3,variant:"success",solid:!0})})).catch((function(t){t&&e.$bvToast.toast("Ocorreu um erro ao tentar validar a promoção, por favor, tente mais tarde!",{title:"Error",autoHideDelay:2e3,variant:"danger",solid:!0})})).finally(setTimeout((function(){document.location.reload(!0)}),2e3))},showModal:function(t){this.$bvModal.show("".concat(t))},goToDetailPromotion:function(t){d["a"].push({name:"promotion-detail",params:{id:t}})}}},m=u,p=(o("3008"),o("2877")),f=Object(p["a"])(m,i,n,!1,null,"34f1f068",null);e["a"]=f.exports}}]);
//# sourceMappingURL=chunk-5d6398ea.2ade2157.js.map